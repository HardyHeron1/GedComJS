/**
 * Created by sahaque on 4/19/2017.
 */

describe('Data', function() {
    before(function () {
        this.data = new Data();
    });
    describe('ParseTree', function() {
        it('testParse', function () {
            var tree = [['1 DATA Data Source']];
            this.data.parseTree(tree, '5.5.1');
            expect(this.data.toString()).to.equal("(SourceName->Data Source, Date->undefined, Copyright->undefined)");
        });

        it('testParseFull', function() {
            "use strict";
            this.data = new Data();
            var tree = [['1 DATA Data Source',
                [['2 DATE 2010-03-01', []],
                    ['2 COPR Line1',
                        [['3 CONT 123456789A123456789B123456789C123456789D123456789E123456789F123456789G123456789H123456789I'],
                            ['3 CONC ROGER THAT GOES HERE']]]]]
            ];
            this.data.parseTree(tree, '5.5.1');
            expect(this.data.toString()).to.equal("(SourceName->Data Source, Date->2010-03-01, Copyright->Line1\n123456789A123456789B123456789C123456789D123456789E123456789F123456789G123456789H123456789IROGER THAT GOES HERE)");
        });
    });

    describe('ToGedcom', function() {
        it('testGedcom', function () {
            this.data = new Data();
            var tree = [['1 DATA Data Source', [['2 DATE 2010-03-01', []]]]];
            this.data.parseTree(tree, '5.5.1');
            expect(this.data.toGedcom(1, '5.5.1')).to.equal("1 DATA Data Source\n2 DATE 2010-03-01");
        });

        it('testGedcomFullNoCONC', function() {
            "use strict";
            this.data = new Data();
            var tree = [['1 DATA Data Source',
                [['2 DATE 2010-03-01', []],
                    ['2 COPR Line1',
                        [['3 CONT 123456789A123456789B123456789C123456789D123456789E123456789F123456789G123456789H123456789I'],
                            ['3 CONT 123456789A123456789B123456789C123456789D123456789E123456789F123456789G123456789H123456789I']]]]]
            ];
            this.data.parseTree(tree, '5.5.1');
            expect(this.data.toGedcom(1,'5.5.1')).to.equal("1 DATA Data Source\n2 DATE 2010-03-01\n2 COPR Line1\n3 CONT 123456789A123456789B123456789C123456789D123456789E123456789F123456789G123456789H123456789I\n3 CONT 123456789A123456789B123456789C123456789D123456789E123456789F123456789G123456789H123456789I");
        });

        it('testGedcomFullCONC', function() {
            "use strict";
            this.data = new Data();
            var tree = [['1 DATA Data Source',
                [['2 DATE 2010-03-01', []],
                    ['2 COPR Line1',
                        [['3 CONT 123456789A123456789B123456789C123456789D123456789E123456789F123456789G123456789H123456789I'],
                            ['3 CONC 123456789J123456789K123456789L123456789M123456789N123456789O123456789P123456789Q123456789R'],
                            ['3 CONT 123456789A123456789B123456789C123456789D123456789E123456789F123456789G123456789H123456789I'],
                            ['3 CONC 123456789J123456789K123456789L123456789M123456789N123456789O123456789P123456789Q123456789R'],
                        ]]]]
            ];
            this.data.parseTree(tree, '5.5.1');
            expect(this.data.toGedcom(1,'5.5.1')).to.equal("1 DATA Data Source\n2 DATE 2010-03-01\n2 COPR Line1\n3 CONT 123456789A123456789B123456789C123456789D123456789E123456789F123456789G123456789H123456789I\n3 CONC 123456789J123456789K123456789L123456789M123456789N123456789O123456789P123456789Q123456789R\n3 CONT 123456789A123456789B123456789C123456789D123456789E123456789F123456789G123456789H123456789I\n3 CONC 123456789J123456789K123456789L123456789M123456789N123456789O123456789P123456789Q123456789R");
        });

        it('testGedcomFullFirstLineCONC', function() {
            "use strict";
            this.data = new Data();
            var tree = [['1 DATA Data Source',
                [['2 DATE 2010-03-01', []],
                    ['2 COPR Line1',
                        [['3 CONC 123456789J123456789K123456789L123456789M123456789N123456789O123456789P123456789Q123456789R'],
                            ['3 CONT 123456789A123456789B123456789C123456789D123456789E123456789F123456789G123456789H123456789I'],
                            ['3 CONC 123456789J123456789K123456789L123456789M123456789N123456789O123456789P123456789Q123456789R'],
                            ['3 CONT 123456789A123456789B123456789C123456789D123456789E123456789F123456789G123456789H123456789I'],
                            ['3 CONC 123456789J123456789K123456789L123456789M123456789N123456789O123456789P123456789Q123456789R'],
                        ]]]]
            ];
            this.data.parseTree(tree, '5.5.1');
            expect(this.data.toGedcom(1,'5.5.1')).to.equal("1 DATA Data Source\n2 DATE 2010-03-01\n2 COPR Line1123456789J123456789K123456789L123456789M123456789N123456789O123456789P123456789Q12345\n3 CONC 6789R\n3 CONT 123456789A123456789B123456789C123456789D123456789E123456789F123456789G123456789H123456789I\n3 CONC 123456789J123456789K123456789L123456789M123456789N123456789O123456789P123456789Q123456789R\n3 CONT 123456789A123456789B123456789C123456789D123456789E123456789F123456789G123456789H123456789I\n3 CONC 123456789J123456789K123456789L123456789M123456789N123456789O123456789P123456789Q123456789R");
        });

        it('testGedcomFullCONCPlusOne', function() {
            "use strict";
            this.data = new Data();
            var tree = [['1 DATA Data Source',
                [['2 DATE 2010-03-01', []],
                    ['2 COPR Line1',
                        [['3 CONC 123456789J123456789K123456789L123456789M123456789N123456789O123456789P123456789Q123456789R1'],
                            ['3 CONT 123456789A123456789B123456789C123456789D123456789E123456789F123456789G123456789H123456789I'],
                            ['3 CONC 123456789J123456789K123456789L123456789M123456789N123456789O123456789P123456789Q123456789R'],
                            ['3 CONT 123456789A123456789B123456789C123456789D123456789E123456789F123456789G123456789H123456789I'],
                            ['3 CONC 123456789J123456789K123456789L123456789M123456789N123456789O123456789P123456789Q123456789R1'],
                        ]]]]
            ];
            this.data.parseTree(tree, '5.5.1');
            expect(this.data.toGedcom(1,'5.5.1')).to.equal("1 DATA Data Source\n2 DATE 2010-03-01\n2 COPR Line1123456789J123456789K123456789L123456789M123456789N123456789O123456789P123456789Q12345\n3 CONC 6789R1\n3 CONT 123456789A123456789B123456789C123456789D123456789E123456789F123456789G123456789H123456789I\n3 CONC 123456789J123456789K123456789L123456789M123456789N123456789O123456789P123456789Q123456789R\n3 CONT 123456789A123456789B123456789C123456789D123456789E123456789F123456789G123456789H123456789I\n3 CONC 123456789J123456789K123456789L123456789M123456789N123456789O123456789P123456789Q123456789R\n3 CONC 1");
        });
    });
});